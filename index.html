<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>モールス信号体験アプリ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
    <!-- 
  下のscriptはmp3ダウロードのために必須　外部ディレクトリ 
  [lamejs] https://github.com/zhuker/lamejs
  ライセンス: MIT License
  CDN URL: https://cdn.jsdelivr.net/npm/lamejs@1.2.0/lame.min.js
  -->
 <script src="https://cdn.jsdelivr.net/npm/lamejs@1.2.0/lame.min.js"></script>

</head>
<body>
  <div class="container">
    <!-- 設定画面 -->
    <div class="settings-control" id="settingsControl" aria-hidden="false">
      <button id="settingsBtn" class="settings-btn" aria-haspopup="true" aria-expanded="false" title="設定">
        ⚙️
      </button>
      <div id="settingsPanel" class="settings-panel" role="dialog" aria-modal="false" style="display:none;">
        <div class="settings-panel-content">
          <div class="panel-header2"><h3 id="settings">設定</h3></div>
          <div class="panel-content">
            <label for="globalLanguage" id = "label_language">使用言語:</label>
            <select id="globalLanguage">
              <option value="日本語">日本語(かな)</option>
              <option value="ローマ字">日本語(ローマ字)</option>
              <option value="English">English</option>
            </select>
            <div style="margin-top:8px;">
              <label for="kidModeToggle" id="kidModeLabel">子ども表示:</label>
              <input type="checkbox" id="kidModeToggle" /> <span style="font-size:0.95em;">ひらがな中心のやさしい表記に切替</span>
            </div>
            <div style="margin-top:8px;">
              <label for="globalVolumeSlider" id = "volume">音量:</label>
              <input type="range" id="globalVolumeSlider" min="0" max="1" step="0.01" value="0.8" />
              <span id="globalVolumeValue">80%</span>
            </div>
            <div style="margin-top:8px;">
              <label for="globalFrequencySlider" id = "frequency">音の高さ(周波数):</label>
              <input type="range" id="globalFrequencySlider" min="200" max="2000" step="1" value="880" />
              <span id="globalFrequencyValue">880Hz</span>
            </div>
            <div style="margin-top:8px;">
              <label for="globalSpeedSelect" id = "speed">再生速度:</label>
              <select id="globalSpeedSelect">
                <option value="3">×3</option>
                <option value="2">×2</option>
                <option value="1">×1</option>
                <option value="0.75">×0.75</option>
                <option value="0.5">×0.5</option>
              </select>
            </div>
            <div style="margin-top:8px;">
              <label for="globalFilenameFormat" id="filenameFormatLabel">保存ファイル名:</label>
              <select id="globalFilenameFormat">
                <option value="input">入力単語を利用</option>
                <option value="timestamp">現在時刻を利用</option>
              </select>
            </div>
            
            <div class="settings-actions" style="display:flex; justify-content:flex-end; gap:8px;">
              <button id="resetSettings" class="reset-button" aria-label="初期設定に戻す" title="設定を初期値に戻します">初期設定に戻す</button>
              <button id="closeSettings" class="main-button" aria-label="閉じる" font-size="0.85em">閉じる</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- スタート画面 -->
    <div class="screen active" id="start-screen">
      <h1 id = "h1">🎵 モールス信号体験アプリ 📡</h1>
      <div class="welcome-text" id = "welcome-text">
        モールス信号の世界へようこそ！<br>
        あなたの名前をモールス信号に変換したり、
        実際にモールス入力を体験してみましょう。
      </div>
      <div class="inline-character-area">
        <img src="assets/png/マールス2.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id = "inline-character-balloon">
          僕と一緒にモールス信号を学ぼう！
        </div>
      </div>
       <div class="help-text" style="font-size:0.95em; color:#5c6b73;">右上の⚙️を押すと設定画面が開けます。使用言語などが変更可能です。<br>
       </div>
       <div class="help-text" style="font-size:0.95em; color:#5c6b73; margin-top: 10px;">
        Press the ⚙️ in the upper right to open the settings screen.
        You can change the language and other settings.
       </div>
      <button class="main-button" onclick="goToStep(1)" id = "start">はじめる</button>
      <button class="GoToHenkan-button" onclick="goToStep(7)" id = "GoToHenkan">変換だけする</button>
      <select id="language" class="hide-inline-language">
      <option value="日本語">日本語</option>
      <option value="ローマ字">ローマ字</option>
      <option value="English">English</option>
      </select>
    </div>

    <!-- 名前入力画面 -->
    <div class="screen" id="name-screen">
      <div class="progress-bar">
        <div class="progress-fill" style="width: 25%"></div>
      </div>
      <div class="step-indicator">
        <span class="step active" id = "inputName">名前入力</span>
        <span class="step" id = "change_playback">変換・再生</span>
        <span class="step" id = "inputMores">モールス入力</span>
        <span class="step" id = "finish">完了</span>
      </div>
      
      <h2 id = "h2">自分の名前を入力してみよう！<br>(例：まーるす)</h2>
      <div class="inline-character-area">
        <img src="assets/png/喜びのマールス.png" alt="マールス" class="inline-character-img">
        
        <div class="inline-character-balloon" id = "input">
          僕の名前は「まーるす」！<br>特技はモールス信号を打つこと！<br>君の名前もモールス信号にしてあげるよ！
        </div>
      </div>
      
      <div style="margin: 30px 0;">
        <div id = "tellToMarse">マールスに自分の名前を教えてみよう！</div>
        <input type="text" id="nameInput" placeholder="お名前をひらがなで入力" value="">
      </div>
      <select id="language3" class="hide-inline-language">
      <option value="日本語">日本語</option>
      <option value="ローマ字">ローマ字</option>
      <option value="English">English</option>
      </select>
      <div class="navigation">
        <button class="back-button" onclick="goToStep(0)" id = "back">戻る</button>
        <button class="main-button" onclick="convertName()" id = "change">変換する</button>
      </div>
    </div>

    <!-- モールス変換・再生画面 -->
    <div class="screen" id="convert-screen">
      <div class="progress-bar">
        <div class="progress-fill" style="width: 50%"></div>
      </div>
      <div class="step-indicator">
        <span class="step">名前入力</span>
        <span class="step active">変換・再生</span>
        <span class="step">モールス入力</span>
        <span class="step">完了</span>
      </div>
      
      <h2 id = "henkan-h2">モールス信号に変換しました！</h2>
      <div class="inline-character-area">
        <img src="assets/png/にこにこマールス.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu2">
          君の名前をモールスにしたよ！
        </div>
      </div>
      <div style="margin: 20px 0;">
        <div style="font-size: 1.2em; margin: 10px 0;" id = "yourName">
          <strong id="userName"></strong> さんのお名前は：
        </div>
        <textarea id="output" rows="3" readonly style="font-size: 1.5em; text-align: center;"></textarea>
        <br><br>
          <div class="inline-character-area">
        <img src="assets/png/マールス2.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu3">
          それぞれの文字はこんな感じで対応しているよ！
        </div>
      </div>
        <textarea id="CorrespondOutput" rows="10" readonly style="font-size:1.2em; flex:1;"></textarea>
      </div>
          <br><br>
          <div class="inline-character-area">
        <img src="assets/png/マールス2.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu3">
          実際にモールスを聞いてみよう！音をダウンロードすることもできるよ！
        </div>
      </div>
      <div class="morse-animation-row">
        <div class="morse-flow-area" id="morseFlow"></div>
        <img src="assets/png/machine_denken.png" alt="デンケン" class="denken-img vibrate" id="denkenVibrate"
            style="cursor:pointer; float:right;"
            onclick=" animateMorseFlow(document.getElementById('output').value);playMorse('output');">
      </div>
      <div class="sound-row">
        <div class="sound-buttons">
          <button class="main-button" onclick="animateMorseFlow(document.getElementById('output').value);playMorse('output')" id = "listen-first">🔊 音で聞いてみる</button>
        </div>
      </div>
      <div class="convert-buttons">
        <button onclick="generateMorseMp3('output')" id ="MP3">MP3変換</button>
        <button id="downloadBtn" style="display:none;">MP3をダウンロード</button>
      </div>
      <br><br>
         <div class="inline-character-area">
        <img src="assets/png/喜びのマールス.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu3">
          今度は君がモールスをうってみてよ！<br>下のボタンから移動しよう！
        </div>
      </div>
      <div class="navigation">
        <button class="back-button" onclick="goToStep(1)" id ="back2">戻る</button>
        <button class="main-button" onclick="goToStep(3)" id ="next2">モールスを入力してみる！</button>
      </div>
    </div>

    <!-- モールス入力体験画面 -->
    <div class="screen" id="input-screen">
      <div class="progress-bar">
        <div class="progress-fill" style="width: 75%"></div>
      </div>
      <div class="step-indicator">
        <span class="step">名前入力</span>
        <span class="step">変換・再生</span>
        <span class="step active">モールス入力</span>
        <span class="step">完了</span>
      </div>
      
      <h2 id="h2InputExp">自分の名前を入力してみよう！</h2>
           <div class="inline-character-area">
        <img src="assets/png/マールス2.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu4">
        「・」（短音）と「－」（長音）と「／」(区切り) を組み合わせて文字を作るんだ！
        </div>
   
      </div>
      <div class="inline-character-area">
        <img src="assets/png/喜びのマールス.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu5">
        本当はボタンを押している長さで区別するけど、今回は簡単にボタンで入力しちゃおう！
        </div>
        </div>

      
      <textarea id="morseInput" rows="3" placeholder="ボタンで入力してください" style="font-size: 1.3em;" inputmode="none"></textarea>
    
      <div id="morseResult" class="morse-float"></div>
      <div id="correctMessage" class="correct-float"></div>
      <div class="morse-pad" role="group" aria-label="モールス入力パッド">
        <button class="morse-btn dot" onclick="appendText('・','morseInput');playDot();" aria-label="短音" title="短音 (・)">・</button>
        <button class="morse-btn dash" onclick="appendText('－','morseInput');playDash();" aria-label="長音" title="長音 (－)">－</button>
        <button class="morse-btn slash" onclick="appendText('／','morseInput')" aria-label="区切り" title="区切り（／）">／</button>
        <button class="control-btn delete" onclick="deleteLast('morseInput')" aria-label="1文字削除">DEL</button>
        <button class="control-btn clear" onclick="clearText('morseInput')" aria-label="全削除">C</button>
        <button class="control-btn play" onclick="playMorse('morseInput');ChangeMorse('morseInput',0)" aria-label="確認">🔊</button>
      </div>
         <div class="inline-character-area">
        <img src="assets/png/マールス2.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu5">
        見慣れないボタンの説明をするね！<br>
      DEL: 一文字消す<br>
      C: 全て消す<br>
      🔊: 現在の入力を再生・確認<br>
      あと、区切りの「／」も忘れずにね！下の注意事項も見ておこう！
        </div>
        </div>
      <p id ="HowToPlay">
      
      </p>
        <div class="help-text" style="display:block; margin-top:8px; font-size:0.95em;" id ="Tips">
        ・直接の文字入力は無効<br>
        ・挿入位置を指定して削除可能
        </div>
        <br><br>
        <div class="inline-character-area">
           <img src="assets/png/マールス2.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu5">
          困ったときは、「💡 ヒント」でさっきの音を聞けるよ！下のモールス信号表をクリックして対応を確認してみるのもいいね！
        </div>
        </div>
      <button id="hintBtn" onclick="playHintAudio()">💡 ヒント</button>
      <br>
         <div class="inline-character-area">
           <img src="assets/png/マールス2.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu5">
          自分の名前が完成したら「✅答え合わせ」を押してね！難しいけど、がんばって！
        </div>
        </div>
        <button class="play-btn" onclick="playMorse('morseInput');ChangeMorse('morseInput',1)" id ="checkMyAnswer">✅答え合わせ</button>
       <!-- <div class="help-text" style="font-size:0.95em; color:#5c6b73;" id ="Tips2">自分の名前が完成したら先に進めます。
        <br>「✅答え合わせ」で確認してみましょう！
       </div> -->

      <div class="navigation">
        <button class="back-button" onclick="goToStep(2)" id="back3">戻る</button>
        <button class="main-button" onclick="goToStep(4)" id="next3" style="display:none;">終わりにする</button>
      </div>
    </div>

    <!-- 完了画面 -->
    <div class="screen" id="complete-screen">
      <div class="progress-bar">
        <div class="progress-fill" style="width: 100%"></div>
      </div>
      <div class="step-indicator">
        <span class="step">名前入力</span>
        <span class="step">変換・再生</span>
        <span class="step">モールス入力</span>
        <span class="step active">完了</span>
      </div>
      
      <h2 id = "otsukare">🎉 おつかれさまでした！</h2>
      <div class="inline-character-area">
           <img src="assets/png/マールス2.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu5">
          モールス信号の体験はどうだった？おもしろかったかな？
        昔の人たちはこの方法で遠くの人と連絡を取っていたりしたんだよ！詳しく知りたかったらぜひミュージアムで調べてみてね！
        </div>
        </div>
      <!-- <div class="welcome-text" id = "thanksMessage">
        モールス信号の体験はいかがでしたか？<br>
        昔の人たちはこの方法で遠くの人と<br>
        コミュニケーションを取っていたんですね。
      </div> -->
      
      <h3 id ="suggest">クイズに挑戦してみませんか？</h3>
      <!-- クイズ画面の質問の上などに追加 -->
        <div class="inline-character-area">
           <img src="assets/png/喜びのマールス.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id ="marusu5">
        3択クイズもあるんだけど、挑戦してみない？
        きっとモールス信号の理解が深まるよ！
        </div>
        </div>
      
      <div class="navigation">
        <button class="back-button" onclick="location.reload()" id="back4">タイトルに戻る</button>
        <button class="main-button" onclick="startQuiz()" id = "next4">クイズに挑戦する</button>
      </div>
    </div>
    <!-- 追加：クイズ画面 -->
    <div class="screen" id="quiz-screen">
      <div class="progress-bar">
        <div class="progress-fill" id="quiz-progress" style="width: 0%"></div>
      </div>
      <div class="step-indicator" id="quiz-steps">
      </div>
      
      <h2 id="quiz-question">質問がここに表示されます</h2>
      <div class="options">
        <button class="option" onclick="selectOption(this)">選択肢1</button>
        <button class="option" onclick="selectOption(this)">選択肢2</button>
        <button class="option" onclick="selectOption(this)">選択肢3</button>
      </div>
        
      <!-- アニメーション用 -->
      <div id="judgeMark"></div>
      <audio id="correctSound" src="assets/mp3/クイズ正解2.mp3" preload="auto"></audio>
      <audio id="incorrectSound" src="assets/mp3/決定ボタンを押す44.mp3" preload="auto"></audio>

      <div class="navigation">
        <button class="back-button" onclick="prevQuiz()" id="allFinish">終了</button>
        <button class="main-button" id="quiz-next-btn" onclick="nextQuiz()" disabled>次へ</button>
      </div>
      </div>
    <div class="screen" id="quiz-result"></div>

     <!-- 変換専用画面 -->
       <div class="screen" id="henkan-screen">


      <h2 id = "mo-rusuhenkanjo">モールス変換所</h2>
      <div class="inline-character-area">
        <img src="assets/png/マールス.png" alt="マールス" class="inline-character-img">
        <div class="inline-character-balloon" id = "input_henkan">
          モールスの解析や変換が出来るよ！
        </div>
      </div>
          <div class="henkan-grid" style="margin-top: 16px;">
            <div class="panel" id="analyze-panel">
              <div class="panel-header" id = "kaiseki"><h3>解析 (Upload & Analyze)</h3></div>
              <div class="panel-content">
                 <div class="help-text" style="font-size:0.95em; color:#5c6b73;" id = "kaiseki_help">ファイルを選択して「解析する」を押すと、検出されたモールス記号が表示されます。<br>
                <b>現在の使用言語は日本語(かな)です。</b><br>(The current language in use is not English.)</div>
                  <div class="analyze-row">
        <label for="audioFile" id ="audiofile">モールス音声(mp3)をアップロードして解析:</label>

        <input type="file" id="audioFile" accept="audio/*" />
                </div>
                <div class="analysis-area" style="margin-top: 10px; display:flex; flex-direction:column; gap:8px;">
                <textarea id="analyzedMorse" rows="5" readonly style="font-size:1.1em; width:100%;"></textarea>
                <textarea id="analyzedMorseToIroha" rows="5" readonly style="font-size:1.1em; width:100%;"></textarea>
                <div id="analyzeInfo" style="font-size:0.9em; color:#444;">解析結果が表示されます ↑</div>
                <textarea id="romajiToHiraResult" rows="3" readonly style="font-size:1.05em; width:100%; display:none;" placeholder="変換結果（ひらがな）"></textarea>
          <!-- </div>
        </div> -->
                </div>
              </div>
            </div>

        <div class="panel" id="convert-panel">
          <div class="panel-header" id = "h3_henkan"><h3>変換 (Convert Text)</h3></div>
          <div class="panel-content">
            <div class="help-text" style="font-size:0.95em; color:#5c6b73;" id ="henkan_help">ここに変換したい文字を入力してください。使用言語には注意してください。<br>
              <b>現在の使用言語は日本語(かな)です。</b><br>(The current language in use is not English.)
            </div>
            <input type="text" id="WantToChange" placeholder="変換したい文字を入力" value="">
            <div class="help-text" style="font-size:0.95em; color:#5c6b73;" id = "hanken_help2">入力したテキストは自動でモールスに変換されます。コピーや再生、MP3ダウンロードが可能です。</div>
        <textarea id="WantToChangeOutput" rows="2" readonly style="font-size:1.2em; flex:1;"></textarea>
        <textarea id="CorrespondWantToChangeOutput" rows="10" readonly style="font-size:1.2em; flex:1;"></textarea>
      <div class="want-to-change-row" style="margin-top: 16px; display:flex; justify-content:center; width:100%;">
       
        <div style="display:flex; flex-direction:column; gap:8px; align-items:center;">
          <div style="display:flex; gap:8px; flex-direction:column; align-items:center;">
            
            <button class="convert-buttons" id="copyWantToChangeBtn" style="width: 240px;">コピー</button>
            
            <div style="display:flex; gap:8px; align-items:center;">
              <button class="convert-buttons" id="playWantToChangeBtn" style="min-width: 100px;">🔊 再生</button>
              <button class="convert-buttons" id="downloadWantToChangeBtn" style="min-width: 130px;">MP3ダウンロード</button>
            </div>
            
          </div>
          <span id="copyWantToChangeMsg" style="display:none; font-size:0.85em; color:#2b8a3e;">コピーしました</span>
        </div>
      </div>
        </div>
      </div>
      <textarea id="WantToChangeOutputHidden" style="display:none;" readonly></textarea>
      <!-- 変換のフォーマットオプション -->
     <div style="margin-top:16px; display:flex; flex-direction: column; gap:12px; align-items:center;">
        
        <div style="display:flex; align-items:center; gap:8px;">
          <label for="WantToChangeSeparator" id="Separator">区切り記号:</label>
          <select id="WantToChangeSeparator" style="padding: 4px; border-radius: 4px;">
            <option value="／" id="／">全角スラッシュ（／）</option>
            <option value="/" id="/">半角スラッシュ（/）</option>
            <option value=" " id="space">スペース</option>
          </select>
        </div>

        <label style="cursor:pointer;">
          <input type="checkbox" id="WantToChangeShowUnknowns" checked> 
          <span id="chkLabelText">未定義文字(？)を表示</span>
        </label>

        <div class="navigation" style="margin:0; display:flex; justify-content:center;">
          <button class="back-button" onclick="goToStep(0)" id="backToFst" style="min-width: 160px;">最初の画面へ</button>
        </div>

      </div>

  </div>
  </div>

  <!-- モーダル: モールス信号表 -->
  <div id="morseModal" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close" onclick="closeMorseModal(getScriptLanguage())">&times;</span>
      <h3>モールス信号表</h3>
      <div style="overflow-x:auto; max-height:500px;">
        <table class="morse-table" border="1" style="width:100%; border-collapse:collapse;">
          <thead>
            <tr>
              <th>文字</th>
              <th>モールス符号</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>あ</td><td>－－・－－</td></tr>
            <tr><td>い</td><td>・－</td></tr>
            <tr><td>う</td><td>・・－</td></tr>
            <tr><td>え</td><td>－・－－－</td></tr>
            <tr><td>お</td><td>・－・・・</td></tr>
            <tr><td>か</td><td>・－・・</td></tr>
            <tr><td>き</td><td>－・－・・</td></tr>
            <tr><td>く</td><td>・・・－</td></tr>
            <tr><td>け</td><td>－・－－</td></tr>
            <tr><td>こ</td><td>－－－－</td></tr>
            <tr><td>さ</td><td>－・－・－</td></tr>
            <tr><td>し</td><td>－－・－・</td></tr>
            <tr><td>す</td><td>－－－・－</td></tr>
            <tr><td>せ</td><td>・－－－・</td></tr>
            <tr><td>そ</td><td>－－－・</td></tr>
            <tr><td>た</td><td>－・</td></tr>
            <tr><td>ち</td><td>・・－・</td></tr>
            <tr><td>つ</td><td>・－－・</td></tr>
            <tr><td>て</td><td>・－・－－</td></tr>
            <tr><td>と</td><td>・・－・・</td></tr>
            <tr><td>な</td><td>・－・</td></tr>
            <tr><td>に</td><td>－・－・</td></tr>
            <tr><td>ぬ</td><td>・・・・</td></tr>
            <tr><td>ね</td><td>－－・－</td></tr>
            <tr><td>の</td><td>・・－－</td></tr>
            <tr><td>は</td><td>－・・・</td></tr>
            <tr><td>ひ</td><td>－－・・－</td></tr>
            <tr><td>ふ</td><td>－－・・</td></tr>
            <tr><td>へ</td><td>・</td></tr>
            <tr><td>ほ</td><td>－・・</td></tr>
            <tr><td>ま</td><td>－・・－</td></tr>
            <tr><td>み</td><td>・・－・－</td></tr>
            <tr><td>む</td><td>－</td></tr>
            <tr><td>め</td><td>－・・・－</td></tr>
            <tr><td>も</td><td>－・・－・</td></tr>
            <tr><td>や</td><td>・－－</td></tr>
            <tr><td>ゐ</td><td>・－・・－</td></tr>
            <tr><td>ゆ</td><td>－・・－－</td></tr>
            <tr><td>ゑ</td><td>・－－・・</td></tr>
            <tr><td>よ</td><td>－－</td></tr>
            <tr><td>ら</td><td>・・・</td></tr>
            <tr><td>り</td><td>－－・</td></tr>
            <tr><td>る</td><td>－・－－・</td></tr>
            <tr><td>れ</td><td>－－－</td></tr>
            <tr><td>ろ</td><td>・－・－</td></tr>
            <tr><td>わ</td><td>－・－</td></tr>
            <tr><td>を</td><td>・－－－</td></tr>
            <tr><td>ん</td><td>・－・－・</td></tr>
            <tr><td>が</td><td>・－・・／・・</td></tr>
            <tr><td>ぎ</td><td>－・－・・／・・</td></tr>
            <tr><td>ぐ</td><td>・・・－／・・</td></tr>
            <tr><td>げ</td><td>－・－－／・・</td></tr>
            <tr><td>ご</td><td>－－－－／・・</td></tr>
            <tr><td>ざ</td><td>－・－・－／・・</td></tr>
            <tr><td>じ</td><td>－－・－・／・・</td></tr>
            <tr><td>ず</td><td>－－－・－／・・</td></tr>
            <tr><td>ぜ</td><td>・－－－・／・・</td></tr>
            <tr><td>ぞ</td><td>－－－・／・・</td></tr>
            <tr><td>だ</td><td>－・／・・</td></tr>
            <tr><td>ぢ</td><td>・・－・／・・</td></tr>
            <tr><td>づ</td><td>・－－・／・・</td></tr>
            <tr><td>で</td><td>・－・－－／・・</td></tr>
            <tr><td>ど</td><td>・・－・・／・・</td></tr>
            <tr><td>ば</td><td>－・・・／・・</td></tr>
            <tr><td>び</td><td>－－・・－／・・</td></tr>
            <tr><td>ぶ</td><td>－－・・／・・</td></tr>
            <tr><td>べ</td><td>・／・・</td></tr>
            <tr><td>ぼ</td><td>－・・／・・</td></tr>
            <tr><td>ぱ</td><td>－・・・／・・－－・</td></tr>
            <tr><td>ぴ</td><td>－－・・－／・・－－・</td></tr>
            <tr><td>ぷ</td><td>－－・・／・・－－・</td></tr>
            <tr><td>ぺ</td><td>・／・・－－・</td></tr>
            <tr><td>ぽ</td><td>－・・／・・－－・</td></tr>
            <tr><td>ー</td><td>・－－・－</td></tr>
            <tr><td>、</td><td>・－・－・－</td></tr>
            <tr><td>(</td><td>－・－－・－</td></tr>
            <tr><td>)</td><td>・－・・－・</td></tr>
            <tr><td>0</td><td>－－－－－</td></tr>
            <tr><td>1</td><td>・－－－－</td></tr>
            <tr><td>2</td><td>・・－－－</td></tr>
            <tr><td>3</td><td>・・・－－</td></tr>
            <tr><td>4</td><td>・・・・－</td></tr>
            <tr><td>5</td><td>・・・・・</td></tr>
            <tr><td>6</td><td>－・・・・</td></tr>
            <tr><td>7</td><td>－－・・・</td></tr>
            <tr><td>8</td><td>－－－・・</td></tr>
            <tr><td>9</td><td>－－－－・</td></tr>
            <tr><td>ぁ</td><td>－－・－－</td></tr>
            <tr><td>ぃ</td><td>・－</td></tr>
            <tr><td>ぅ</td><td>・・－</td></tr>
            <tr><td>ぇ</td><td>－・－－－</td></tr>
            <tr><td>ぉ</td><td>・－・・・</td></tr>
            <tr><td>ゃ</td><td>・－－</td></tr>
            <tr><td>ゅ</td><td>－・・－－</td></tr>
            <tr><td>ょ</td><td>－－</td></tr>
            <tr><td>ゎ</td><td>－・－</td></tr>
            <tr><td>っ</td><td>・－－・</td></tr>
            <tr><td>゛</td><td>・・</td></tr>
            <tr><td>゜</td><td>・・－－・</td></tr>
            <tr><td>\n</td><td>・－・－・・</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

    <div id="morseModal2" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close" onclick="closeMorseModal(getScriptLanguage())">&times;</span>
      <h3 id ="morseTbl">モールス信号表</h3>
      <div style="overflow-x:auto; max-height:500px;">
        <table class="morse-table" border="1" style="width:100%; border-collapse:collapse;">
          <thead>
            <tr>
              <th id ="moji">文字</th>
              <th id ="hugou">モールス符号</th>
              <th id = "play" style ="width: 50px;">再生</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>A</td><td>・－</td></tr>
            <tr><td>B</td><td>－・・・</td></tr>
            <tr><td>C</td><td>－・－・</td></tr>
            <tr><td>D</td><td>－・・</td></tr>
            <tr><td>E</td><td>・</td></tr>
            <tr><td>F</td><td>・・－・</td></tr>
            <tr><td>G</td><td>－－・</td></tr>
            <tr><td>H</td><td>・・・・</td></tr>
            <tr><td>I</td><td>・・</td></tr>
            <tr><td>J</td><td>・－－－</td></tr>
            <tr><td>K</td><td>－・－</td></tr>
            <tr><td>L</td><td>・－・・</td></tr>
            <tr><td>M</td><td>－－</td></tr>
            <tr><td>N</td><td>－・</td></tr>
            <tr><td>O</td><td>－－－</td></tr>
            <tr><td>P</td><td>・－－・</td></tr>
            <tr><td>Q</td><td>－－・－</td></tr>
            <tr><td>R</td><td>・－・</td></tr>
            <tr><td>S</td><td>・・・</td></tr>
            <tr><td>T</td><td>－</td></tr>
            <tr><td>U</td><td>・・－</td></tr>
            <tr><td>V</td><td>・・・－</td></tr>
            <tr><td>W</td><td>・－－</td></tr>
            <tr><td>X</td><td>－・・－</td></tr>
            <tr><td>Y</td><td>－・－－</td></tr>
            <tr><td>Z</td><td>－－・・</td></tr>
            <tr><td>0</td><td>－－－－－</td></tr>
            <tr><td>1</td><td>・－－－－</td></tr> 
            <tr><td>2</td><td>・・－－－</td> </tr>
            <tr><td>3</td><td>・・・－－</td></tr>
            <tr><td>4</td><td>・・・・－</td> </tr>
            <tr><td>5</td><td>・・・・・</td> </tr>
            <tr><td>6</td><td>－・・・・</td></tr>
            <tr><td>7</td><td>－－・・・</td> </tr>
            <tr><td>8</td><td>－－－・・</td> </tr>
            <tr><td>9</td><td>－－－－・</td> </tr>
            <tr><td>.</td><td>・－・－・－</td></tr>
            <tr><td>,</td><td>－－・・－－</td></tr>
            <tr><td>:</td><td>－－－・・・</td></tr>
            <tr><td>?</td><td>・・－－・・</td></tr>
            <tr><td>'</td><td>・－－－－・</td></tr>
            <tr><td>－</td><td>－・・・・－</td></tr>
            <tr><td>(</td><td>－・－－・</td></tr>
            <tr><td>)</td><td>－・－－・－</td></tr>
            <tr><td>/</td><td>－・・－・</td></tr>
            <tr><td>=</td><td>－・・・－</td></tr>
            <tr><td>+</td><td>・－・－・</td></tr>
            <tr><td>"</td><td>・－・・－・</td></tr>
            <tr><td>×</td><td>－・・－</td></tr>
            <tr><td>@</td><td>・－－・－・</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

 <footer class="footer">
  <button class="footer-button" onclick="openMorseModal()" id = "morseTblBtn">📖 モールス信号表</button>
</footer>


  <script src="js/ui.js"></script>
  <script src="js/script.js"></script>
  <script src="js/quiz.js"></script>

</body>
</html>