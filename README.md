# モールス信号体験アプリ

このWebアプリケーションは、モールス信号の学習・体験を目的としています。  
テキストとモールス信号の相互変換、音声再生、クイズ、資料閲覧などが可能です。

## 主な機能

- テキスト → モールス信号変換
- モールス信号 → テキスト変換
- モールス信号の音声再生
- モールス信号表（PDF）の閲覧
- クイズ機能

## フォルダ構成

```
MediaLiteracy/
├─ assets/            # 画像・PDF・音声などの静的アセット
│   └─ ...           
├─ css/               # スタイルシート
│   └─ style.css
├─ js/                # JavaScript（ロジック・UI・クイズ制御）
│   ├─ script.js      # 変換ロジック
│   ├─ quiz.js        # クイズ制御
│   └─ ui.js          # UI・画面制御
├─ index.html         # メイン画面
└─ README.md          # プロジェクト概要（このファイル）
```

## 使用方法
1. はじめるをクリック
2. テキストを入力し「→ 変換する」をクリック
3. モールス信号（`.` と `-`）を入力し「→ 再生」「→ 確認」クリック
4. 「再生」ボタンでモールス音声を再生
5. モールス信号表ページを参照
6. クイズ機能でモールス記号からひらがな
7. クイズで学んだ内容はSNSシェア

## 備考

- 共同開発者は`js/`フォルダに新規ファイルを追加可能です。
- デザイン・UIは`css/style.css`で
- コードは教育・学習目的のため、最適化やリファクタリングの余地があります。
今後改善予定です。

## MP3解析機能

新しく、モールス信号が含まれるMP3ファイルをアップロードして解析し、波形と解析済みのモールス記号（・／－）を表示する機能を追加しました。

使い方:
- 「変換・再生」画面の「モールス音声(mp3)をアップロードして解析」からファイルを選択
- 「解析する」ボタンを押すと波形が表示され、検出されたモールス記号がテキスト欄に表示されます
- 「文字に変換」ボタンで、解析されたモールスコードを元に文字に変換（現在の言語テーブルに依存）できます

解析アルゴリズム（簡易版）:
- WebAudio APIでMP3をデコードし、音声信号の包絡線 (RMS) を短いウィンドウで計算
- アンプの閾値を自動推定してオン/オフ区間を判定
- 時間長に基づいて「・」(dot) と「－」(dash) を分類
- 文字間・語間を静寂の長さで推定し、`／`で区切って表示します

この機能は雑音や録音の品質に依存するため、うまく解析できない場合があります。
